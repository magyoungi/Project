from util.websocket_connector import run_chart_websocket , MessageHandler
import json

print("시작1")
# 이 함수를 호출하면 MessageHandler라는 클래스 내 chart_data라는 클래스 전역 변수에 값이 저장됩니다.
# Ticker, Window, Graph Color는 websocket_connector.py 파일에서 설정됩니다.
run_chart_websocket()

print("시작2")
print(f"차트 데이터 확인 {json.dumps(MessageHandler.chart_data)}")
print("종료")

# 위의 run_chart_websocket 함수가 실행된 후 MessageHandler.chart_data 라는 클래스 변수를 값을 가져오면
# 정상적으로 차트 데이터가 저장되어져 그 해당 데이터를 사용하면 됩니다.

# 데이터의 BTC_USDT, 1D의 예시는 아래와 같습니다.
# {"BLUE": [0.3184363095589336, 0.326397121393866, 0.31566555861667855, 0.3142970862487633, 0.2859946039532852, 0.27762413170901357, 0.2530550638504523, 0.228810920576969, 0.230921344255542, 0.23090621486337104, 0.22803392414183196, 0.22437006791716832, 0.2365288110229743, 0.245648408545756, 0.2554542785445334, 0.2536003127287345, 0.24875341056514483, 0.2583266473858529, 0.2677950844058191, 0.2515803324490119, 0.23389621216930784, 0.24374601097488088, 0.25652826376340115, 0.27494736311241436, 0.306483047715757, 0.29906537932414695, 0.28226455498753866, 0.2452002738359079, 0.2263151455664632, 0.2245537570064899, 0.20672554190200096, 0.2040879152598593, 0.17691675156642533, 0.16240550885756705, 0.16415760641443175, 0.15629002410639387, 0.15032055608373465, 0.15878633706928355, 0.15192418837785582, 0.1268397434108655, 0.126171795327024, 0.11955702083911474, 0.13847818636505915, 0.10492329904158625, 0.1002908015349422, 0.08322890270525021, 0.07002086299556444, 0.07422904196790571, 0.0, 0.008563852908725094, 0.22731932812706837, 0.372007739143467, 0.49175260152425004, 0.49175260152425004, 0.49175260152425004, 0.49175260152425004, 0.49175260152425004, 0.49175260152425004, 0.49175260152425004, 0.49175260152425004, 0.49175260152425004, 0.49175260152425004, 0.49175260152425004, 0.49175260152425004, 0.49565265093607974, 0.4782552820305011, 0.45640208370248003, 0.43235839791712527, 0.4655592424146337, 0.4725119676355272, 0.4817859984174703, 0.48782539995542473, 0.6184303549650926, 0.6166057720637375, 0.5964891745439167, 0.588376603235923, 0.5870395166670291, 0.5512941333040097, 0.5329650302689917, 0.5260361823127918, 0.5336352038568772, 0.5589490191326332, 0.5775149358252304, 0.5770165922217843, 0.5506514161405023, 0.5388664363974788, 0.496821087801317, 0.4721153887065629, 0.45847208115530874, 0.44574066647564725, 0.4419140554214335, 0.4326111315116398, 0.36724105747469926, 0.3769214887013798, 0.343152493796626, 0.34757568384138327, 0.3867615377259709, 0.3801673829732143, 0.49490392419855767, 0.6425091591263212, 0.5603957218341623, 0.5357800923629763, 0.5479783627843565, 0.5461093507354519, 0.5125150170711379, 0.4860731032151269, 0.47468424643038165, 0.4727017981891336, 0.46897939242790737, 0.4865467064800738, 0.46419667468561154, 0.39980249631517123, 0.3733981006130126, 0.41616441626107403, 0.41137426588196735, 0.3374043531940696, 0.3387196132939426, 0.3534419251069482, 0.26304885480465046, 0.2462265356855041, 0.21769486190136847, 0.2023982536442142, 0.16389430518101453, 0.1802848087704255, 0.1646014776005741, 0.13881324325868666, 0.14789863715407142, 0.18168909948209408, 0.21642913462644267, 0.19929181771035925, 0.3128318072223293, 0.3230616916670246, 0.35011961811652115, 0.3793201472988753, 0.40322495310141937, 0.46079918063825126, 0.5160877149724474, 0.6016876664902553, 0.6745637006147259, 0.7127493763327396, 0.72574181341464, 0.78290993042382, 0.8382590854025052, 0.8563139473484226, 0.902432628884391, 0.9332973738267574, 0.9401386102411456, 0.9569313459998462, 0.940977077098928, 0.9434167679572478, 0.9529173523344728, 0.9454075393078006, 0.9551338508886836, 0.9878889433882379, 0.9856387031149769, 0.9788931275437366, 1.0, 0.9876204582801638, 0.9764251552493319, 0.9593961786327689, 0.9578371758061739, 0.9487184465867191, 0.9330833430118669, 0.926644569504343, 0.905990951572292, 0.9113034594131695, 0.9180733990440578, 0.8970609314739089, 0.881812729128917, 0.8661217149394937, 0.856804520502496, 0.8558994666854416, 0.8694970175581381, 0.8647252986670805, 0.8558760726171576, 0.8076179298457365, 0.8003824682341141, 0.7911898670317119, 0.7893135263675299, 0.8062561691870173, 0.8123301469930082, 0.8159627023433949, 0.7929922629925946, 0.8011657554332647, 0.7859152545200132, 0.7793719882849948, 0.7871930408911398, 0.7805793537199589, 0.7808257019209252, 0.7934787211841403, 0.7976073900975068, 0.7888910268942776, 0.7637164924388768, 0.7647121370204942, 0.7628441657932534, 0.7729228606844463, 0.768047440699271, 0.7445528566054803, 0.7455171341288538, 0.7266962440994607, 0.7262428537641324, 0.7145447169979957, 0.7040554344432074, 0.7083036217925367, 0.6995268836867006, 0.6945755614924985, 0.7057637416867936, 0.7009989597648184, 0.7109303152808247, 0.7208253819892106, 0.7255267698740048, 0.7214734582667885, 0.7153282923266531, 0.7102450536913452, 0.7009129135672812, 0.7077654700751403, 0.7330239670348732, 0.7304575441717234, 0.7365212548541876, 0.7261428982436088, 0.7067949964032391, 0.6808654491215596, 0.6585722973059626, 0.671908605148074, 0.6460996079177963, 0.607734250529187, 0.6096294835719746, 0.6110007914730718, 0.6442244173658351, 0.6673729981668227, 0.6904150820606918, 0.6854304781031764, 0.6869723997775617, 0.639815255690813, 0.6427427982511201, 0.6688824162379469, 0.6650198639717244, 0.6448097602635753, 0.6447326456988687, 0.6470647621896103, 0.6498891656522797, 0.6428032083366596, 0.6345729719325253, 0.6445034648839516, 0.6419627194665204, 0.6414192800740773, 0.6293887936980749, 0.629733366796354, 0.6331193473222505, 0.6371860306045964, 0.6427413184293229, 0.6227463354517278, 0.5448252309765854, 0.5309516885933427, 0.532133968378439, 0.5522362826309104, 0.5494348305357871, 0.5573901509446624, 0.5601900050178831, 0.5839676433212043, 0.583484889493326, 0.5864511579073288, 0.6467959167538777, 0.6854684762262764, 0.7100459306222415, 0.717940923856806, 0.7267767989468865, 0.7189252600728446, 0.7282777771747109, 0.740687300772346, 0.7357105806774881, 0.7312728735493133, 0.7406034732499233, 0.7297438824663304, 0.7484634130066248, 0.7452836825641351, 0.7669699602344494, 0.7808585749435315, 0.7755155264721478, 0.7079071415579047, 0.6970210836412153, 0.701775577795116, 0.7063305929218271, 0.7141326845232319, 0.7062186163469548, 0.7005196147672471, 0.7041192234436568], "ORANGE": [1.0, 0.9978154175807511, 0.9917474664968853, 0.9908901014860452, 0.9919927252698966, 0.9934919162852386, 0.9824568651152819, 0.9761497902156145, 0.9721538102174782, 0.9761843672462628, 0.9756951849568298, 0.9687242039325886, 0.9686161076055775, 0.9648204857723204, 0.969554039800236, 0.9690140642946184, 0.9832638431603263, 0.986815046357358, 0.9884307871860909, 0.9783432353566651, 0.9741305350921122, 0.9771713471795237, 0.9776713670905418, 0.9706156002771749, 0.9927919648506273, 0.9859690947274762, 0.9763671902167743, 0.965598295475213, 0.9526442459613153, 0.9424145344551823, 0.9415179995773969, 0.93895722372372, 0.9232086544647193, 0.9058425297391058, 0.903836156795855, 0.8996234434966031, 0.898361899473064, 0.8987377476169205, 0.8860753790309879, 0.8652920758569785, 0.8607660305657334, 0.8569609922948136, 0.8513109081842766, 0.8478442527605481, 0.8400247957696693, 0.841448445097958, 0.8246315814601196, 0.824826292002827, 0.7985890810607222, 0.7985388444285967, 0.7888116494215754, 0.798047527836076, 0.8125184444758277, 0.8125184444758277, 0.8125184444758277, 0.8125184444758277, 0.8125184444758277, 0.8125184444758277, 0.8125184444758277, 0.8125184444758277, 0.8125184444758277, 0.8125184444758277, 0.8125184444758277, 0.8125184444758277, 0.8129956535234371, 0.7960817338464932, 0.7885300011260116, 0.7862110030279248, 0.7925827471328424, 0.7789145283657416, 0.7593639678833476, 0.7540470473667649, 0.7856762342494625, 0.7774069731552101, 0.7551315543463615, 0.7446257322080245, 0.7392473827457274, 0.7353150820543325, 0.7256705771811854, 0.7291044149531932, 0.7380439621229479, 0.7508469146866082, 0.751869635078567, 0.7397405445882856, 0.7277346591648265, 0.7243532634632333, 0.6934379300512473, 0.6809881697026724, 0.6816133708169885, 0.6770757027215932, 0.678466031858099, 0.6830138094025244, 0.6785672057153292, 0.6754526186136014, 0.6503214399339838, 0.6406492255533773, 0.6281839593451619, 0.6087556223307348, 0.657922695209235, 0.8671096747635527, 0.8332479196462466, 0.818954915227918, 0.8246128954318156, 0.8221634122725596, 0.8158427773952845, 0.809278096493181, 0.8009595350120532, 0.8052437205530443, 0.7904724521220083, 0.7854115671702067, 0.7774423200078983, 0.7526236939115173, 0.7415244848399164, 0.7436277384734338, 0.7345380938211108, 0.7321832260021832, 0.7295497897094451, 0.7177588895177325, 0.6821716234137407, 0.6850872575218862, 0.6932014944251528, 0.6722611694783465, 0.6770118547009288, 0.6756602905785022, 0.6702649569732817, 0.6503586445343663, 0.6604793821056782, 0.6610710314980737, 0.6673583522214539, 0.6627294800109224, 0.6708955494834071, 0.6601254512747075, 0.6415312281877869, 0.6377497256355817, 0.6190083648432096, 0.6105402241670765, 0.5919102076554129, 0.5896780283999296, 0.5623340812052692, 0.5449276175311357, 0.5269414679822919, 0.50864797050423, 0.5027469512063821, 0.49271813920486995, 0.4912256021228733, 0.4897317722625878, 0.4707404594906932, 0.46007459954673735, 0.445636323600203, 0.4353591991787684, 0.43117014213246563, 0.4365693034417387, 0.43434516429511977, 0.4334307730500897, 0.4161594448126372, 0.41356102221819546, 0.4045993694245423, 0.3969910834530498, 0.38803645758536714, 0.3804519912994627, 0.3789924461209499, 0.37317680266169856, 0.365019855554741, 0.3572011648439711, 0.35078328514171475, 0.3561163935278229, 0.36006629035960863, 0.3581611288829747, 0.36287624735865354, 0.3672823076434791, 0.37342018800399324, 0.3728763634803483, 0.37749674954522666, 0.3695477564128006, 0.35885825674424515, 0.3342812677924597, 0.3321838671822864, 0.32353215627210674, 0.3241349637934872, 0.3372770409764334, 0.3584607752172775, 0.35979292226071924, 0.3547323111621685, 0.3592535396795634, 0.3517312637685425, 0.3555814064547777, 0.3493717355558923, 0.3336772957256801, 0.3267399501182925, 0.3311906985237077, 0.3267962398497588, 0.31339104473245133, 0.3057851765067311, 0.3016701454536819, 0.3076596266692252, 0.30466107336209225, 0.29822125490725787, 0.2921051863445076, 0.2804057820669106, 0.2617533611276162, 0.25554491988649136, 0.24132463381638067, 0.23040684667741435, 0.2240986921361754, 0.21048716676541326, 0.19834247580309647, 0.19977386238325154, 0.19068754883885888, 0.18476926126641247, 0.1853381339648499, 0.18186868546279, 0.1667484729024671, 0.16151206932659629, 0.16194602567538444, 0.15607325297688662, 0.16301414849070253, 0.19435278161752056, 0.1937670152973541, 0.18607248690267444, 0.17752459748420124, 0.17409914723095668, 0.1558940320586019, 0.14667065997512926, 0.14825981285801845, 0.11324887296485628, 0.10597717420932107, 0.11083131583007716, 0.10764664275628681, 0.10986880271023047, 0.11141196471647312, 0.12103287960274901, 0.11902839991052369, 0.11465566529732181, 0.1150328306159764, 0.11647808000952305, 0.1205982476602662, 0.11513467498072469, 0.11730712909915333, 0.11274473931071591, 0.1195775757440718, 0.11676888455393471, 0.11300939584976688, 0.10978516565880905, 0.10970163389040759, 0.11035251489655103, 0.1077008369609362, 0.09738352096856623, 0.09495527698196435, 0.0920856481535311, 0.08795761444075555, 0.08203799241075194, 0.06758808516206646, 0.036229593430047134, 0.029080283854962044, 0.027940901061183247, 0.0320997204891333, 0.028776558307315236, 0.02615102457146818, 0.026177077998188553, 0.032427042398249305, 0.028556677561078818, 0.030634683074749744, 0.03404979430732323, 0.027593971392456812, 0.026155947643170148, 0.023246517161784563, 0.026356189860047397, 0.023399006379771096, 0.029103110439118802, 0.03492048549310425, 0.02531094616730353, 0.015656288718173365, 0.026606873354141056, 0.013816261960489495, 0.01052857159047379, 0.015236120827096569, 0.011754641037261617, 0.015207157184272707, 0.004812316275628938, 0.0, 0.008530643400469426, 0.01897812008113535, 0.01964389831351836, 0.02146527014559454, 0.010067189637456963, 0.005498926191494772, 0.006141681927554723]}
